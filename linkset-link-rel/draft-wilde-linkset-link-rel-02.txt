



Network Working Group                                           E. Wilde
Internet-Draft                                           CA Technologies
Intended status: Informational                          H. Van de Sompel
Expires: November 25, 2017                Los Alamos National Laboratory
                                                            May 24, 2017


              Linkset: A Link Relation Type for Link Sets
                    draft-wilde-linkset-link-rel-03

Abstract

   This specification defines the "linkset" link relation type that can
   be used to link to a resource that provides a set of links.

Note to Readers

   Please discuss this draft on the ART mailing list
   (<https://www.ietf.org/mailman/listinfo/art>).

   Online access to all versions and files is available on GitHub
   (<https://github.com/dret/I-D/tree/master/linkset-link-rel>).

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 25, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of



Wilde & Van de Sompel   Expires November 25, 2017               [Page 1]

Internet-Draft         Linkset Link Relation Type               May 2017


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Scenarios . . . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Third-Party Links . . . . . . . . . . . . . . . . . . . .   3
     3.2.  Large Number of Links . . . . . . . . . . . . . . . . . .   3
   4.  Origin Resource, Link Set Resource, "linkset" Relation Type .   3
     4.1.  Origin Resource . . . . . . . . . . . . . . . . . . . . .   4
     4.2.  Link Set Resource . . . . . . . . . . . . . . . . . . . .   4
     4.3.  The "linkset" Relation Type for Linking to Link Sets  . .   4
   5.  A JSON Format for Link Sets . . . . . . . . . . . . . . . . .   5
   6.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . .   5
     6.1.  Links Provided in the Header of the Link Set Resource . .   5
     6.2.  Link Set Serialized as application/link-format+json . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Link Relation Type: linkset . . . . . . . . . . . . . . .   9
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   9.  Normative References  . . . . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   A hypermedia resource typically conveys typed Web Links [RFC5988] as
   an inherent part of the resource's representation [RFC7231], for
   example, using the <link> element for HTML representations, or the
   "Link" header field in HTTP response headers for representations of
   any media type.  Cases exist in which providing links by value is
   impractical or impossible.  In these cases, an approach to provide
   links by reference is desired.  This specification defines the
   "linkset" relation type that allows doing so.

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].







Wilde & Van de Sompel   Expires November 25, 2017               [Page 2]

Internet-Draft         Linkset Link Relation Type               May 2017


3.  Scenarios

3.1.  Third-Party Links

   Cases exist in which a service other than the one providing a
   resource is expected to provide links for that resource.  This
   "third-party link resource" is hosted by a link server that may be
   managed by the same custodian as the responding resource, or by a
   third party.  In order for the responding server to provide up-to-
   date and complete links about its resources, it would need to obtain
   them from the link server, and embed them in the resource
   representations prior to responding to a client.  Doing so increases
   latency and load, which may be unnecessary if a client is not intent
   on consuming links.  Providing links by reference, instead of by
   value, removes this additional latency by avoiding server-to-server
   communication required to obtain links.

3.2.  Large Number of Links

   When conveying links in the HTTP "Link" header, cases exist in which
   the size of the HTTP response header becomes unpredictable.  This is,
   for example, the case when links are determined dynamically dependent
   on a range of contextual factors.  It is possible to statically
   configure a web server to correctly handle large HTTP response
   headers by specifying an upper boundary for their size.  But when the
   number of links and the amount of bytes required for each is
   unpredictable, estimating a reliable upper boundary is challenging.
   While HTTP [RFC7231] defines error codes related to excess
   communication by the user agent ("413 Request Entity Too Large" and
   "414 Request-URI Too Long"), no error codes are defined to indicate
   that a response header exceeds the upper boundary that can be handled
   by the server.  As a result, applications take counter measures aimed
   at controlling the size of the HTTP "Link" header, for example, by
   limiting the links they provide to those with select relation types,
   thereby limiting the value of the HTTP "Link" header to clients.
   Providing links by reference, instead of by value, overcomes
   challenges related to the unpredictable nature of the extent of HTTP
   "Link" headers.

4.  Origin Resource, Link Set Resource, "linkset" Relation Type

   This section introduces two types of resources involved in providing
   links by reference, as well as the link relation type used to
   interlink them.







Wilde & Van de Sompel   Expires November 25, 2017               [Page 3]

Internet-Draft         Linkset Link Relation Type               May 2017


4.1.  Origin Resource

   An "origin resource" is a resource that makes links in which it
   participates discoverable by providing a typed link that targets a
   link set resource.

   Depending on the scenario, the origin resource can be a URI-
   identified resource or a fragment of a URI-identified resource.

4.2.  Link Set Resource

   A "link set resource" is a resource - other than the origin resource
   - with a representation that provides one or more links in which the
   origin resource participates as source or target.

   Because the link set resource is distinct from the origin resource,
   links provided by the link set resource must explicitly express both
   the source and target of each link as a means to allow unambiguous
   interpretation.

4.3.  The "linkset" Relation Type for Linking to Link Sets

   A link with the "linkset" link relation type has as Context IRI the
   IRI of an origin resource, and as Target IRI the IRI of an associated
   link set resource.

   A link with the "linkset" relation type MAY be provided in the header
   and/or the body of the origin resource's representation.

   More than one link with a "linkset" relation type MAY be provided.
   Multiple such links can refer to the same set of links expressed
   using different representations, or to different link sets.

   The use of a link with the "linkset" relation type does not preclude
   the provision of links with other relation types, i.e. the origin
   resource can provide typed links other than a "linkset" link.

   The link set resource MAY provide the links that pertain to the
   origin resource in its response header and/or body:

   o  In cases whereby the link set resource provides these links in its
      Link response header, the payload of that header MUST comply with
      the syntax defined in [RFC5988].  The media type of the response
      body is not constrained.

   o  In cases whereby the link set resource provides these links in its
      response body, the body MUST allow a user-agent to unambiguously




Wilde & Van de Sompel   Expires November 25, 2017               [Page 4]

Internet-Draft         Linkset Link Relation Type               May 2017


      determine the source and target of each provided link.  The media
      type of the response body is otherwise not constrained.

   The syntax of the Target IRI of a link with the "linkset" relation
   type is not specified and is left to the discretion of implementers.
   However, it is assumed that an unmabiguous association with the
   origin resource that provides the link to the Target IRI can be
   derived.

5.  A JSON Format for Link Sets

   Possibly, a format and media type are defined here.

6.  Examples

   Sections Section 6.1 and Section 6.2 show examples whereby the link
   set resource provides links pertaining to the origin resource, in its
   response header and body, respectively.

6.1.  Links Provided in the Header of the Link Set Resource

   Figure 1 shows a client issuing an HTTP head request against origin
   resource http://example.org/resource1.

   HEAD /resource1 HTTP/1.1
   Host: example.org
   Connection: close


                    Figure 1: Client HTTP HEAD Request

   Figure 2 shows the response to the HEAD request of Figure 1.  The
   response contains a Link header with a link that has the "linkset"
   relation type.  It indicates that links pertaining to the origin
   resource are provided by link set resource http://example.com/
   links?uri=http%3A%2F%2Fexample.org%2Fresource.















Wilde & Van de Sompel   Expires November 25, 2017               [Page 5]

Internet-Draft         Linkset Link Relation Type               May 2017


HTTP/1.1 200 OK
Date: Mon, 28 Nov 2016 14:37:51 GMT
Server: Apache-Coyote/1.1
Link: <http://example.com/links?uri=http%3A%2F%2Fexample.org%2Fresource>
      ; rel="linkset"
      ; type="text/html"
Content-Length: 5214
Content-Type: text/html;charset=utf-8
Connection: close


            Figure 2: Response to HTTP HEAD on Origin Resource

   Figure 3 shows the client issuing an HTTP GET request against the
   link set resource provided in Figure 2.

   GET /links?uri=http%3A%2F%2Fexample.org%2Fresource HTTP/1.1
   Host: example.com
   Connection: close


          Figure 3: Client HTTP GET against the Link Set Resource

   Figure 4 shows the response headers to the HTTP GET request of
   Figure 3.  The links pertaining to the origin resource are provided
   in the Link response header of the link set resource.  As can be
   seen, in order to support an unambiguous determination of the Context
   IRI of each link, the "anchor" attribute is provided for each link.
   Note that most, but not all, links have the origin resource as
   Context IRI (anchor).





















Wilde & Van de Sompel   Expires November 25, 2017               [Page 6]

Internet-Draft         Linkset Link Relation Type               May 2017


   HTTP/1.1 200 OK

   Date: Mon, 28 Nov 2016 14:40:02 GMT
   Server: Apache-Coyote/1.1
   Link: <http://authors.example.net/johndoe>
      ; rel="author"
      ; type="application/rdf+xml"
      ; anchor="http://example.org/resource1",
    <http://authors.example.net/janedoe>
      ; rel="author"
      ; type="application/rdf+xml"
      ; anchor="http://example.org/resource1",
    <http://example.org/resource1/items/AF48EF.pdf>
      ; rel="item"
      ; type="application/pdf"
      ; anchor="http://example.org/resource1",
    <http://example.org/resource1/items/CB63DA.html>
      ; rel="item"
      ; type="text/html"
      ; anchor="http://example.org/resource1",
    <http://example.net/resource41/>
      ; rel="related"
      ; type="application/pdf"
      ; anchor="http://example.org/resource1/items/AF48EF.pdf"
   Content-Type: text/html
   Content-Length: 3018


       Figure 4: Response to HTTP GET against the Link Set Resource

6.2.  Link Set Serialized as application/link-format+json

   Figure 5 shows a client issuing an HTTP head request against origin
   resource http://example.org/article?id=10.1371/journal.pone.0167475

   HEAD article?id=10.1371/journal.pone.0167475 HTTP/1.1
   Host: example.org
   Connection: close


                    Figure 5: Client HTTP HEAD Request

   Figure 6 shows the response to the HEAD request of Figure 5.  The
   response contains a Link header with a link that has the "linkset"
   relation type.  It indicates that links pertaining to the origin
   resource are provided by link set resource
   http://example.com/links/10.1371/journal.pone.0167475, which




Wilde & Van de Sompel   Expires November 25, 2017               [Page 7]

Internet-Draft         Linkset Link Relation Type               May 2017


   provicdes a representation with media type application/link-
   format+json.

   HTTP/1.1 200 OK
   Date: Mon, 28 Nov 2016 14:37:51 GMT
   Server: Apache-Coyote/1.1
   Link: <http://example.com/links/10.1371/journal.pone.0167475>
         ; rel="linkset"
         ; type="application/link-format+json"
   Content-Length: 236
   Content-Type: text/html;charset=utf-8
   Connection: close


            Figure 6: Response to HTTP HEAD on Origin Resource

   Figure 7 shows the client issuing an HTTP GET request against the
   link set resource provided in Figure 6.

   GET /links/10.1371/journal.pone.0167475 HTTP/1.1
   Host: example.com
   Accept: application/link-format+json
   Connection: close


          Figure 7: Client HTTP GET against the Link Set Resource

   Figure 8 shows the response headers to the HTTP GET request of
   Figure 7.  The links pertaining to the origin resource are provided
   in the response body of the link set resource and are serialized
   according to the application/link-format+json media type.

HTTP/1.1 200 OK

Date: Mon, 28 Nov 2016 14:40:02 GMT
Server: Apache-Coyote/1.1
Content-Type: application/link-format+json
Content-Length: 729

[{"anchor":"http://example.org/article?id=10.1371/journal.pone.0167475","href":"http://authors.example.net/johndoe","rel":"author","type":"application/rdf+xml"},
 {"anchor":"http://example.org/article?id=10.1371/journal.pone.0167475","href":"http://authors.example.net/janedoe","rel":"author","type":"application/rdf+xml"},
 {"anchor":"http://example.org/article?id=10.1371/journal.pone.0167475","href":"http://example.org/resource1/items/AF48EF.pdf","rel":"item","type":},
 {"anchor":"http://example.org/article?id=10.1371/journal.pone.0167475","href":,"rel":,"type":"application/pdf"},
 {"anchor":"http://example.org/resource1/items/AF48EF.pdf","href":"http://example.net/resource41/","rel":"related","type":"application/pdf"}]

       Figure 8: Response to HTTP GET against the Link Set Resource





Wilde & Van de Sompel   Expires November 25, 2017               [Page 8]

Internet-Draft         Linkset Link Relation Type               May 2017


7.  IANA Considerations

   The link relation type below has been registered by IANA per
   Section 6.2.1 of RFC 5988 [RFC5988]:

7.1.  Link Relation Type: linkset

      Relation Name: linkset

      Description: The Target IRI of a link with the "linkset" relation
      type provides a set of links that pertain to the Context IRI of
      the link.

      Reference: [[ This document ]]

8.  Security Considerations

   ...

9.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5988]  Nottingham, M., "Web Linking", RFC 5988,
              DOI 10.17487/RFC5988, October 2010,
              <http://www.rfc-editor.org/info/rfc5988>.

   [RFC6690]  Shelby, Z., "Constrained RESTful Environments (CoRE) Link
              Format", RFC 6690, DOI 10.17487/RFC6690, August 2012,
              <http://www.rfc-editor.org/info/rfc6690>.

   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
              DOI 10.17487/RFC7231, June 2014,
              <http://www.rfc-editor.org/info/rfc7231>.

Authors' Addresses

   Erik Wilde
   CA Technologies

   Email: erik.wilde@dret.net
   URI:   http://dret.net/netdret/





Wilde & Van de Sompel   Expires November 25, 2017               [Page 9]

Internet-Draft         Linkset Link Relation Type               May 2017


   Herbert Van de Sompel
   Los Alamos National Laboratory

   Email: herbertv@lanl.gov
   URI:   http://public.lanl.gov/herbertv/














































Wilde & Van de Sompel   Expires November 25, 2017              [Page 10]
