<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Feed Service Management (FSM)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Feed Service Management (FSM)">
<meta name="generator" content="xml2rfc v1.36 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Wilde</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">EMC Corporation</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Y. Liu</td></tr>
<tr><td class="header">Expires: June 3, 2013</td><td class="header">UC Berkeley</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 30, 2012</td></tr>
</table></td></tr></table>
<h1><br />Feed Service Management (FSM)<br />draft-wilde-fsm-00</h1>

<h3>Abstract</h3>

<p>...
</p>
<h3>Note to Readers</h3>

<p>This draft should be discussed on the <a href='http://www.imc.org/atom-syntax/index.html'>atom-syntax mailing list</a>.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on June 3, 2013.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2012 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#web-services">1.1.</a>&nbsp;
Web Services<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#feed-services">1.2.</a>&nbsp;
Feed-based Services<br />
<a href="#anchor1">2.</a>&nbsp;
Terminology<br />
<a href="#anchor2">3.</a>&nbsp;
Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Service Entries<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.1.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Bundles<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.2.1.</a>&nbsp;
Bundle references<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.2.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.2.3.</a>&nbsp;
Remote Bundle Example<br />
<a href="#anchor9">4.</a>&nbsp;
Service Document<br />
<a href="#anchor10">5.</a>&nbsp;
Interactions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.1.</a>&nbsp;
Services<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.1.1.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.2.</a>&nbsp;
Bundles<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">5.2.1.</a>&nbsp;
Creating Collections<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">5.2.2.</a>&nbsp;
Editing Collections<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">5.2.3.</a>&nbsp;
Examples<br />
<a href="#anchor17">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor18">7.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">7.1.</a>&nbsp;
Feed Readers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">7.2.</a>&nbsp;
Push Notification Services<br />
<a href="#rfc.references1">8.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Feed Service Management (FSM) is a protocol for representing, organizing, managing, and sharing consumer state for potentially large numbers of feed-based Web services. This document describes the motivations, data model, and protocol interactions for FSM servers and clients. In particular, it specifies how clients create and modify service descriptions stored on an FSM server, how they retrieve and use such service descriptions, and how these interactions apply across multiple FSM servers, possibly operated by independent entities.
</p>
<a name="web-services"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Web Services</h3>

<p>A growing number of Web applications provide APIs and Web services, as means to share data and interoperate with other services and devices. Many such services expose REST-based APIs, with one of the prevalent protocols for designing standards-based REST-based APIs being Atom <a class='info' href='#RFC4287'>[1]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> and AtomPub <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>. Atom is a read-only service that allows client to consume collections (called "feeds") of published information items (called "entries"). AtomPub extends Atom with write capabilities and allows clients to create, update, and delete information items in collections.
</p>
<a name="feed-services"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Feed-based Services</h3>

<p>Podcasts <a href='http://www.apple.com/itunes/podcasts/'>http://www.apple.com/itunes/podcasts/</a>, for example, are media files delivered as a service via feeds, only that the most popular client for them (iTunes) is a specialized media client instead of being a generic feed reader. Large Web content management systems, like Wordpress or Blogger, offer full-featured read-write Web services for publishing, consuming, and managing content. In application areas such as the Web of Things, a large number of sensors, appliances, and other everyday objects may emit data streams, made accessible on the Web as real-time data feeds.
</p>
<p>Generally speaking, any federated and decentralized ecosystem of producers and consumers of information services can be modeled as a feed-based architecture. The most common cases are scenarios where services revolve around providing access to similar types of information items (such as news stories, blog posts, radio or television shows, or update information about certain products or services). FSM targets scenarios where consumers are interested in a variety of feed-based services, and want to keep track of the ones they are interested in. FSM provides a service that allows cosumers to manage information about feed-based services, thus freeing them from having to manage this service information in one particular client or service.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[3]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement                   Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Model</h3>

<p>Feed Service Management provides two fundamental models for managing client-side state of feed-based services: Service Entries and Bundles. The Service Entry represents each feed-based service that the client is interested in. The Entry contains information about each individual service, including the URI of the service, associated metadata, any pre-formulated queries and filters, and other client-side preferences. Bundles organize one or more Service Entries and references to other Bundles into a collection of services, providing organization and meta-service entry management features for stored services. Both models are represented in FSM as extensions to the Atom specification, with extension elements existing in the namespace represented by "http://dret.net/fsm/1.0".
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Service Entries</h3>

<p>Service Entries are extended Atom entries, representing each service that the FSM client is interested in placing with the management server. Each service thus represented MUST have a unique ID, on a per client basis. The URI to the feed-based service MUST appear in an href attribute, within the atom:link element that has a rel attribute of "alternate", and SHOULD appear in an atom:content element as part of the src attribute. To identify itself as a Service Entry, the entry MUST contain an atom:link element with the rel attribute of "profile" and an href to the profile URI  "http://dret.net/fsm/1.0/service-entry". Each entry SHOULD also have an atom:link element pointing to an edit URI, with a rel attribute of "edit", if the entry itself can be edited once placed on the FSM server. Each entry MUST also have an atom:title element, to conform with the Atom specification, and MAY place text such as a human-readable name of the service in the title element. Some description of the service SHOULD also appear in the atom:summary element of the entry. As with ordinary Atom entries, foreign markup MAY appear within the submitted Atom entry, and SHOULD be processed in accordance with Section 6.3 of RFC 4287 <a class='info' href='#RFC4287'>[1]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
</p>
<p>If the invocation of the service by this particular client requires certain persistent query parameters, these parameters SHOULD appear in a fsm:query element. The fsm:query element accepts an additional optional attribute called scheme, which accepts URIs as valid values and functions purely as an context identifier for the type of query values being preserved within the element. If the scheme identifier is omitted, consumers of the FSM feed MAY assume the contents of the fsm:query element to be a valid URI query string component that can be directly appended to the service URI. While the FSM server is agnostic to the particular values and semantic meaning of these stored values, they may be described by a URI template and template description provided by the service itself.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Example</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;entry&gt;
   &lt;id&gt;tag:yliu,2012-10-12:unemployment-rates-2011_ref&lt;/id&gt;
   &lt;published&gt;2012-10-12T02:30:22Z&lt;/published&gt;
   &lt;updated&gt;2012-10-12T02:30:22Z&lt;/updated&gt;
   &lt;link href="http://example.com/unemployment2011" rel="alternate"/&gt;
   &lt;title&gt;Unemployment Rates 2011&lt;/title&gt;
   &lt;link href="http://dret.net/fsm/1.0/service-entry" rel="profile"/&gt;
   &lt;link href="http://fsm.example.com/users/yliu/subs/137.atom" rel="edit"/&gt;
   &lt;summary&gt;Subscription to http://example.org/unemployment2011&lt;/summary&gt;
   &lt;content src="http://example.org/unemployment2011"/&gt;
   &lt;fsm:query scheme="http://example.org/query"&gt;state=CA&lt;/fsm:query&gt;
&lt;/entry&gt;</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Bundles</h3>

<p>Bundles are extended Atom feeds, representing a collection of Service Entries or references to other Bundles. As with normal Atom feeds, Bundles MAY be extended with additional metadata, in the form of foreign markup. FSM-specific extensions should exist within the namespace identified by the URI "http://dret.net/fsm/1.0". To identify itself as a Bundle, the feed MUST contain an atom:link element with the rel attribute of "profile" and an href to the profile URI "http://dret.net/fsm/1.0/bundle". It MUST also identify its service document, using an atom:link element with the rel attribute of "service".
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Bundle references</h3>

<p>Bundle references are entries within bundles that identify other bundles, either hosted locally or on another FSM server. They are Atom entries and resemble Service Entries, except with a profile href set to "http://dret.net/fsm/1.0/bundle". The FSM client can de-reference the bundle using the URI given in the entry's alternate link element in order to interact with the bundle.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Example</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;feed  xmlns:fsm="http://dret.net/fsm/1.0" xml:lang="en-US"
   xmlns:app="http://www.w3.org/2007/app" xmlns="http://www.w3.org/2005/Atom"&gt;
   &lt;id&gt;tag:yliu,2010-11-13:spatial-feeds-berkeley&lt;/id&gt;
   &lt;link type="text/html"
   href="http://fsm.example.com/users/yliu/feeds/spatial-feeds-berkeley.html" rel="alternate"/&gt;
   &lt;link type="application/atom+xml"
   href="http://fsm.example.com/users/yliu/feeds/spatial-feeds-berkeley.atom" rel="self"/&gt;
   &lt;link href="http://dret.net/fsm/1.0/bundle" rel="profile"/&gt;
   &lt;title type="text"&gt;Spatial Feeds for Berkeley&lt;/title&gt;
   &lt;georss:where&gt;&lt;georss:circle&gt;37.874271 -122.265695 50&lt;/georss:circle&gt;&lt;/georss:where&gt;
   &lt;updated&gt;2010-11-13T16:51:38Z&lt;/updated&gt;
   &lt;author&gt;
     &lt;name&gt;Yiming Liu&lt;/name&gt;
   &lt;/author&gt;
&lt;link href="http://fsm.example.com/users/yliu/service" rel="service"/&gt; ...</pre></div>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Remote Bundle Example</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                 &lt;entry&gt;
    &lt;id&gt;tag:yliu,2010-11-09:delicious-rest_ref&lt;/id&gt;
    &lt;published&gt;2010-11-09T06:21:26Z&lt;/published&gt;
    &lt;updated&gt;2010-11-09T06:21:26Z&lt;/updated&gt;
    &lt;link href="http://fsm.example.com/users/yliu/feeds/delicious-rest" rel="alternate"/&gt;
    &lt;title&gt;delicious REST&lt;/title&gt;
    &lt;link href="http://dret.net/fsm/1.0/bundle" rel="profile"/&gt;
    &lt;summary&gt;delicious REST bundle&lt;/summary&gt;
    &lt;content type="application/atom+xml" src="http://fsm.example.com/users/yliu/feeds/delicious-rest"/&gt;
  &lt;/entry&gt;
</pre></div>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Service Document</h3>

<p>The FSM service document MUST identify each bundle hosted by the FSM server as a collection within its workspace, in order to facilitate AtomPub service interactions that form the basis of FSM.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Interactions</h3>

<p>Feed Service Management servers MUST implement the AtomPub protocol as specified in RFC 5023 <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a> for creating and managing feed services. The core service interactions are simple and typical AtomPub interactions -- the client retrieves the service document, identifies the bundles / collections that it is interested in working with, and then proceeds with HTTP interactions with the various collections.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Services</h3>

<p>To create a new service entry, an FSM client issues a HTTP POST request to create a new AtomPub member entry as specified by RFC 5023 <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a> to the URI representing the bundle / collection. The POST body MUST contain an Atom entry representing the service entry to be added. The server signals a successful creation with a status code of 201. The response MUST include a Location header indicating the URI of the Service Entry, and a representation of that Entry in the body of the response. Modifying and deleting resources proceed exactly as specified in RFC 5023 <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>.  
</p>
<p>A special case occurs when a bundle reference is being deleted. In this case, the client issues a POST request to the containing collection, TODO
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1.1"></a><h3>5.1.1.&nbsp;
Example</h3>

<p>Below, an FSM client requests the creation of a new service entry
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>POST /spatial-feeds/ HTTP/1.1
Host: example.org
User-Agent: FSMClient/1.0
Content-Type: application/atom+xml;type=entry
Content-Length: nnn

&lt;?xml version="1.0"?&gt;
&lt;entry xml:lang="en-US" xmlns:fsm="http://dret.net/fsm/1.0" xmlns="http://www.w3.org/2005/Atom"&gt;
   &lt;link href="http://geofeeds.org/unemployment2011" rel="alternate"/&gt;
   &lt;title&gt;Unemployment Rates 2011&lt;/title&gt;
   &lt;link href="http://dret.net/fsm/1.0/service-entry" rel="profile"/&gt;
   &lt;summary&gt;Subscription to http://geofeeds.org/unemployment2011&lt;/summary&gt;
   &lt;content src="http://geofeeds.org/unemployment2011"/&gt;
   &lt;fsm:query&gt;state=CA&lt;/fsm:query&gt;
&lt;/entry&gt;</pre></div>
<p>
                  Receiving the server response:
               
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>HTTP/1.1 201 Created
 Date: Fri, 7 Oct 2012 02:03:22 GMT
 Content-Length: nnn
 Content-Type: application/atom+xml;type=entry
 Location: http://fsm.example.com/users/yliu/subs/137.atom
 ETag: "c180de84f991g8"

 &lt;?xml version="1.0"?&gt;
 &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
     &lt;id&gt;tag:yliu,2012-10-12:unemployment-rates-2011_ref&lt;/id&gt;
     &lt;published&gt;2012-10-12T02:30:22Z&lt;/published&gt;
     &lt;updated&gt;2012-10-12T02:30:22Z&lt;/updated&gt;
     &lt;link href="http://geofeeds.org/unemployment2011" rel="alternate"/&gt;
     &lt;title&gt;Unemployment Rates 2011&lt;/title&gt;
     &lt;link href="http://dret.net/fsm/1.0/service-entry" rel="profile"/&gt;
     &lt;link href="http://fsm.example.com/users/yliu/subs/137.atom" rel="edit"/&gt;
     &lt;summary&gt;Subscription to http://geofeeds.org/unemployment2011&lt;/summary&gt;
     &lt;content src="http://geofeeds.org/unemployment2011"/&gt;
     &lt;fsm:query&gt;state=CA&lt;/fsm:query&gt;
 &lt;/entry&gt;</pre></div>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Bundles</h3>

<p>Interactions with bundles require a FSM-specific extension to the AtomPub specification, namely to allow creation and modification of AtomPub Collections as a first-class resource. This is modeled as a variation of Section 5 of RFC 5023 <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>, applied to collections within a workspace rather than resources within a collection.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.1"></a><h3>5.2.1.&nbsp;
Creating Collections</h3>

<p>To create a new bundle, an FSM client must issue a HTTP POST request to URI of the desired workspace, as provided by the Atom Service Document of the FSM server, containing the representation of an AtomPub collection within the service document's workspace.  The server signals a successful creation with a status code of 201. The response includes a Location header indicating the URI of the bundle / collection, and a representation of that Entry in the body of the response. 
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.2"></a><h3>5.2.2.&nbsp;
Editing Collections</h3>

<p>To edit a collection, the FSM client sends a PUT request to its Collection URI containing new collection data to be stored in place of the original collection information, receiving a HTTP 200 response on success. If some member resources contained in the previous collection no longer forms to the acceptable contents of the new collection as edited, the collection edit request MUST not be processed.  Instead, an HTTP 409 Conflict response is returned. 
</p>
<p>To delete a collection, a client sends a DELETE request to its collection URI.  Member resources within the collection SHOULD be deleted along with its parent collection if they are left orphaned -- that is, not referred to from any other collection.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.3"></a><h3>5.2.3.&nbsp;
Examples</h3>

<p>Below, an FSM client requests the creation of a new bundle
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>POST /bundles HTTP/1.1
Host: example.org
User-Agent: FSMClient/1.0
Content-Type: application/atom+xml;type=entry
Content-Length: nnn

&lt;?xml version="1.0"?&gt;
&lt;collection xmlns="http://www.w3.org/2007/app"
            xmlns:atom="http://www.w3.org/2005/Atom"
            xmlns:georss="http://www.georss.org/georss" &gt;
   &lt;atom:title&gt;Spatial Feeds&lt;/atom:title&gt;
   &lt;georss:box&gt;37.8685 -122.2680 37.8796 -122.2533&lt;/georss:box&gt;
   &lt;accept&gt;application/atom=xml;type=entry&lt;/accept&gt;
&lt;/collection&gt;</pre></div>
<p>
                  Receiving the server response:
               
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>HTTP/1.1 201 Created
Date: Fri, 7 Oct 2012 02:03:22 GMT
Content-Length: nnn
Content-Type: application/atom+xml;type=entry
Location: http://fsm.example.com/users/yliu/spatial-feeds
ETag: "c180de84f991g8"

&lt;?xml version="1.0"?&gt;
&lt;collection xmlns="http://www.w3.org/2007/app" xmlns:atom="http://www.w3.org/2005/Atom"
   xmlns:georss="http://www.georss.org/georss"
href="http://fsm.example.com/users/yliu/spatial-feeds"&gt;
   &lt;atom:title&gt;Spatial Feeds&lt;/atom:title&gt;
   &lt;georss:box&gt;37.8685 -122.2680 37.8796 -122.2533&lt;/georss:box&gt;
   &lt;accept&gt;application/atom=xml;type=entry&lt;/accept&gt;
&lt;/collection&gt;</pre></div>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>Authentication and trust layers are not part of this specification, but given this as an extension of Atom and AtomPub standards, security considerations outlined in RFC 5023 <a class='info' href='#rfc5023'>[2]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a> also applies to the FSM protocol. Standard mitigation strategies for HTTP and Atom protocols, such as the use of cryptographic signatures, transport layer security, and three-legged authentication protocols like OAuth <a class='info' href='#rfc5849'>[4]<span> (</span><span class='info'>Hammer-Lahav, E. and B. de hOra, &ldquo;The OAuth 1.0 Protocol,&rdquo; April&nbsp;2010.</span><span>)</span></a> may be applied atop the protocol to address some of these security concerns.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Examples</h3>

<p>...
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Feed Readers</h3>

<p>FSM can serve as a distributed synchronization service for personal feed readers. A significant part of a Web-based feed reader's function is to maintain user feed subscriptions and personalization preferences across a number of potential client devices.  The introduction of OPML is in part to serve as an interchange format across not only devices, but also different feed reader apps and services themselves.  Instead of using a specific feed reader as an ad-hoc silo of stored feeds, however, an FSM server can be deployed as a part of an ecosystem of personal feed management services.  A user need only to point his reader to a bundle within his personal FSM feed, and any FSM-enabled reader service should be able to access and synchronize feeds using this system.  They can even optionally reference public bundles shared from other users' FSM servers to be included within their own feed bundles.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Push Notification Services</h3>

<p>...
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4287">[1]</a></td>
<td class="author-text"><a href="mailto:mnot@pobox.com">Nottingham, M., Ed.</a> and <a href="mailto:rfsayre@boswijck.com">R. Sayre, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4287">The Atom Syndication Format</a>,&rdquo; RFC&nbsp;4287, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4287.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4287.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4287.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="rfc5023">[2]</a></td>
<td class="author-text">Gregorio, J. and B. de hOra, &ldquo;<a href="http://tools.ietf.org/html/rfc5023">The Atom Publishing Protocol</a>,&rdquo; RFC&nbsp;5023, October&nbsp;2007 (<a href="ftp://ftp.isi.edu/in-notes/rfc5023.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[3]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement
                  Levels</a>,&rdquo; RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="rfc5849">[4]</a></td>
<td class="author-text">Hammer-Lahav, E. and B. de hOra, &ldquo;<a href="http://tools.ietf.org/html/rfc5849">The OAuth 1.0 Protocol</a>,&rdquo; RFC&nbsp;5849, April&nbsp;2010 (<a href="http://tools.ietf.org/html/rfc5849">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC6906">[5]</a></td>
<td class="author-text">Wilde, E., &ldquo;<a href="http://tools.ietf.org/html/rfc6906">The 'profile' Link Relation Type</a>,&rdquo; RFC&nbsp;6906, March&nbsp;2013 (<a href="http://www.rfc-editor.org/rfc/rfc6906.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Erik Wilde</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">EMC Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">6801 Koll Center Parkway</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pleasanton, CA 94566</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">U.S.A.</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-925-6006244</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:erik.wilde@emc.com">erik.wilde@emc.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://dret.net/netdret/">http://dret.net/netdret/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yiming Liu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UC Berkeley</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">South Hall</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Berkeley, CA 94720</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">U.S.A.</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yliu@ischool.berkeley.edu">yliu@ischool.berkeley.edu</a></td></tr>
</table>
</body></html>
